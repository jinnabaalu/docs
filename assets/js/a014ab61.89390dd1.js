"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4729],{8071:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"elasticsearch/RunLogstashPipeineWithContainer","title":"\ud83d\udc33 Basic Logstash Pipeline","description":"We\'ll use Logstash as an ETL engine to move data from PostgreSQL into Elasticsearch. Fast, clean, and production-ready.","source":"@site/docs/elasticsearch/RunLogstashPipeineWithContainer.md","sourceDirName":"elasticsearch","slug":"/ElasticStack/BasicLogstashPipeline","permalink":"/oio/docs/ElasticStack/BasicLogstashPipeline","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/elasticsearch/RunLogstashPipeineWithContainer.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"slug":"/ElasticStack/BasicLogstashPipeline"},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udc33 Run Kibana Docker Container","permalink":"/oio/docs/ElasticStack/KibanaDockerContainer"},"next":{"title":"\ud83d\udee1\ufe0f Enable XPack Security","permalink":"/oio/docs/category/\ufe0f-enable-xpack-security"}}');var o=n(4848),a=n(8453);const r={sidebar_position:5,slug:"/ElasticStack/BasicLogstashPipeline"},i="\ud83d\udc33 Basic Logstash Pipeline",c={},l=[{value:"\ud83d\udee0\ufe0f Prerequisites",id:"\ufe0f-prerequisites",level:3},{value:"\ud83d\udcc1 Folder Structure",id:"-folder-structure",level:3},{value:"\ud83d\udc33 Run postgres container with init.sql using docker-compose",id:"-run-postgres-container-with-initsql-using-docker-compose",level:2},{value:"\ud83d\udc33 Run logstash container",id:"-run-logstash-container",level:2}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"-basic-logstash-pipeline",children:"\ud83d\udc33 Basic Logstash Pipeline"})}),"\n",(0,o.jsxs)(s.p,{children:["We'll use Logstash as an ETL engine to move data from ",(0,o.jsx)(s.strong,{children:"PostgreSQL into Elasticsearch"}),". Fast, clean, and production-ready."]}),"\n",(0,o.jsx)(s.h3,{id:"\ufe0f-prerequisites",children:"\ud83d\udee0\ufe0f Prerequisites"}),"\n",(0,o.jsxs)(s.p,{children:["Run Elasticsearch, in this case for testing you can folowing ",(0,o.jsx)(s.a,{href:"/oio/docs/ElasticStack/ElasticsearchSingleNodeDockerContainer",children:"Single Node Cluster Setup"})]}),"\n",(0,o.jsx)(s.h3,{id:"-folder-structure",children:"\ud83d\udcc1 Folder Structure"}),"\n",(0,o.jsx)(s.p,{children:"We'll create or download the necessary files and organize them following the structure below."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd logstash\n\n.\n\u251c\u2500\u2500 jdbc-drivers\n\u2502\xa0\xa0 \u2514\u2500\u2500 postgresql-42.7.5.jar\n\u251c\u2500\u2500 pipeline\n\u2502\xa0\xa0 \u251c\u2500\u2500 pg-table-es.conf\n\u251c\u2500\u2500 postgres\n\u2502\xa0\xa0 \u251c\u2500\u2500 docker-compose.yml\n\u2502\xa0\xa0 \u251c\u2500\u2500 init.sql\n\u2514\u2500\u2500 docker-compose.yml\n"})}),"\n",(0,o.jsx)(s.p,{children:"Create folder structure"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd logstash/\nmkdir -p jdbc-drivers pipeline postgres\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Download PostgreSQL JDBC Driver, for latest version check ",(0,o.jsx)(s.a,{href:"https://jdbc.postgresql.org/download/",children:"here"})]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"wget -P jdbc-drivers/ https://jdbc.postgresql.org/download/postgresql-42.7.5.jar\n"})}),"\n",(0,o.jsx)(s.p,{children:"Download Logstash Docker Compose and Pipeline Config"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"wget -O docker-compose.yml https://raw.githubusercontent.com/jinnabaalu/ELKOperations/refs/heads/main/logstash/postgres-to-elasticsearch/docker-compose.yml\nwget -P pipeline/ https://raw.githubusercontent.com/jinnabaalu/ELKOperations/refs/heads/main/logstash/postgres-to-elasticsearch/pipeline/pg-table-es.conf\n"})}),"\n",(0,o.jsx)(s.p,{children:"Download PostgreSQL Container Setup"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"wget -P postgres/ https://raw.githubusercontent.com/jinnabaalu/ELKOperations/refs/heads/main/logstash/postgres-to-elasticsearch/postgres/docker-compose.yml\nwget -P postgres/ https://raw.githubusercontent.com/jinnabaalu/ELKOperations/refs/heads/main/logstash/postgres-to-elasticsearch/postgres/init.sql\n"})}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h2,{id:"-run-postgres-container-with-initsql-using-docker-compose",children:"\ud83d\udc33 Run postgres container with init.sql using docker-compose"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd logstash/postgres/\ndocker-compose up -d\n"})}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsxs)(s.p,{children:["Based on the given ",(0,o.jsx)(s.code,{children:"init.sql"})," data, it will create the databse and tables. You can check what you have inserted into the postgres."]}),"\n"]}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h2,{id:"-run-logstash-container",children:"\ud83d\udc33 Run logstash container"}),"\n",(0,o.jsx)(s.p,{children:"Check your pipleine from input block postgres which table is getting called, and tranformed to elasticsearch in the output block."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd logstash/\ndocker-compose up -d\n"})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>i});var t=n(6540);const o={},a=t.createContext(o);function r(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);