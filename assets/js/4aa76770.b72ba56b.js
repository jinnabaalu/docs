"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1926],{8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>l});var i=n(6540);const r={},t=i.createContext(r);function d(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(t.Provider,{value:s},e.children)}},8879:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"elasticsearch/index/TokenizationAnalysis","title":"Tokenization & Text Analysis","description":"Before Elasticsearch builds an inverted index, it needs to break down the input text into meaningful chunks called tokens. This process is called analysis, and it includes tokenization, lowercasing, filtering, and more.","source":"@site/docs/elasticsearch/index/TokenizationAnalysis.md","sourceDirName":"elasticsearch/index","slug":"/elasticsearch/index/TokenizationAnalysis","permalink":"/oio/docs/elasticsearch/index/TokenizationAnalysis","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/elasticsearch/index/TokenizationAnalysis.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Tokenization & Text Analysis"},"sidebar":"tutorialSidebar","previous":{"title":"Inverted Index","permalink":"/oio/docs/elasticsearch/index/InvertedIndex"},"next":{"title":"Analyzers with DevTools","permalink":"/oio/docs/elasticsearch/index/Analyzer"}}');var r=n(4848),t=n(8453);const d={sidebar_position:7,title:"Tokenization & Text Analysis"},l="Tokenization and Text Analysis in Elasticsearch",c={},o=[{value:"Step 1: Tokenization",id:"step-1-tokenization",level:2},{value:"Example:",id:"example",level:3},{value:"Step 2: Lowercasing and Stop Words",id:"step-2-lowercasing-and-stop-words",level:2},{value:"After Cleanup:",id:"after-cleanup",level:3},{value:"Token Filters: Power Moves",id:"token-filters-power-moves",level:2},{value:"Choosing the Right Tokenizer",id:"choosing-the-right-tokenizer",level:2},{value:"Anatomy of an Analyzer",id:"anatomy-of-an-analyzer",level:2},{value:"Recap",id:"recap",level:2}];function a(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"tokenization-and-text-analysis-in-elasticsearch",children:"Tokenization and Text Analysis in Elasticsearch"})}),"\n",(0,r.jsxs)(s.p,{children:["Before Elasticsearch builds an inverted index, it needs to break down the input text into meaningful chunks called ",(0,r.jsx)(s.strong,{children:"tokens"}),". This process is called ",(0,r.jsx)(s.strong,{children:"analysis"}),", and it includes tokenization, lowercasing, filtering, and more."]}),"\n",(0,r.jsx)(s.p,{children:"This blog shows how raw text becomes searchable through analysis."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"step-1-tokenization",children:"Step 1: Tokenization"}),"\n",(0,r.jsx)(s.p,{children:"Elasticsearch splits your text into tokens\u2014usually words. This helps it treat individual terms as searchable units."}),"\n",(0,r.jsx)(s.h3,{id:"example",children:"Example:"}),"\n",(0,r.jsxs)(s.p,{children:["Input:",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.code,{children:'"Elasticsearch is blazing fast and scalable."'})]}),"\n",(0,r.jsxs)(s.p,{children:["Output Tokens:",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.code,{children:'["Elasticsearch", "is", "blazing", "fast", "and", "scalable"]'})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"step-2-lowercasing-and-stop-words",children:"Step 2: Lowercasing and Stop Words"}),"\n",(0,r.jsxs)(s.p,{children:["Elasticsearch ",(0,r.jsx)(s.strong,{children:"lowercases"})," tokens so that ",(0,r.jsx)(s.code,{children:"Fast"})," and ",(0,r.jsx)(s.code,{children:"fast"})," are the same.",(0,r.jsx)(s.br,{}),"\n","It also removes ",(0,r.jsx)(s.strong,{children:"stop words"})," like ",(0,r.jsx)(s.code,{children:"is"}),", ",(0,r.jsx)(s.code,{children:"and"}),", ",(0,r.jsx)(s.code,{children:"the"}),", depending on the analyzer."]}),"\n",(0,r.jsx)(s.h3,{id:"after-cleanup",children:"After Cleanup:"}),"\n",(0,r.jsxs)(s.p,{children:["Tokens:",(0,r.jsx)(s.br,{}),"\n",(0,r.jsx)(s.code,{children:'["elasticsearch", "blazing", "fast", "scalable"]'})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"token-filters-power-moves",children:"Token Filters: Power Moves"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"\ud83d\udd27 Feature"}),(0,r.jsx)(s.th,{children:"Example Word"}),(0,r.jsx)(s.th,{children:"Result"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Lowercasing"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Elasticsearch"})}),(0,r.jsxs)(s.td,{children:["\u2192 ",(0,r.jsx)(s.code,{children:"elasticsearch"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Punctuation"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"full-text"})}),(0,r.jsxs)(s.td,{children:["\u2192 ",(0,r.jsx)(s.code,{children:"full"}),", ",(0,r.jsx)(s.code,{children:"text"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Stopword"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"is"}),", ",(0,r.jsx)(s.code,{children:"and"}),", ",(0,r.jsx)(s.code,{children:"the"})]}),(0,r.jsx)(s.td,{children:"Removed (if configured)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Stemming"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"indexing"})," \u2192 ",(0,r.jsx)(s.code,{children:"index"})]}),(0,r.jsx)(s.td,{children:"Needs stemmer filter in custom analyzer"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Synonyms"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"fast = quick"})}),(0,r.jsx)(s.td,{children:"Needs synonym filter to expand terms"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Edge N-Gram"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"search"})," \u2192 ",(0,r.jsx)(s.code,{children:"s"}),", ",(0,r.jsx)(s.code,{children:"se"}),", ",(0,r.jsx)(s.code,{children:"sea"}),"..."]}),(0,r.jsx)(s.td,{children:"For autocomplete"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Token Filters"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"scalable"})," \u2192 remove if in blacklist"]}),(0,r.jsx)(s.td,{children:"Use stop filter"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"choosing-the-right-tokenizer",children:"Choosing the Right Tokenizer"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Use Case"}),(0,r.jsx)(s.th,{children:"Best Tokenizer"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Free text (articles, blog posts)"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"standard"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Tags, exact keywords, IPs"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"keyword"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Custom structured logs"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"pattern"}),", ",(0,r.jsx)(s.code,{children:"whitespace"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Paths, file trees"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"path_hierarchy"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"URLs/emails"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"uax_url_email"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Autocomplete"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"edge_ngram"}),", ",(0,r.jsx)(s.code,{children:"ngram"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Source code, identifiers"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"whitespace"}),", ",(0,r.jsx)(s.code,{children:"keyword"})]})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"anatomy-of-an-analyzer",children:"Anatomy of an Analyzer"}),"\n",(0,r.jsxs)(s.p,{children:["An ",(0,r.jsx)(s.strong,{children:"analyzer"})," = ",(0,r.jsx)(s.code,{children:"tokenizer"})," + ",(0,r.jsx)(s.code,{children:"zero or more filters"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["You can use built-in ones (",(0,r.jsx)(s.code,{children:"standard"}),", ",(0,r.jsx)(s.code,{children:"whitespace"}),", etc.) or create your own custom analyzer."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"recap",children:"Recap"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Tokenization"})," breaks text into searchable parts."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Filters"})," clean and modify tokens (like lowercasing or stemming)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Analyzers"})," control how Elasticsearch processes your data for indexing."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Before your data ever hits the inverted index, analysis makes sure it's clean, consistent, and optimized for search."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.p,{children:"\ud83d\ude80 Next, we\u2019ll explore how to use custom analyzers in your Elasticsearch mappings!"})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);