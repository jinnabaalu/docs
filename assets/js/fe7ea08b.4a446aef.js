"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4757],{1135:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"elasticsearch/index/AnalyzerEdgeNGrams","title":"Edge N-grams for Autocomplete","description":"\ud83e\udde0 What Are Edge N-grams?","source":"@site/docs/elasticsearch/index/AnalyzerEdgeNGrams.md","sourceDirName":"elasticsearch/index","slug":"/elasticsearch/index/AnalyzerEdgeNGrams","permalink":"/oio/docs/elasticsearch/index/AnalyzerEdgeNGrams","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/elasticsearch/index/AnalyzerEdgeNGrams.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"AnalyzerSynonyms","permalink":"/oio/docs/elasticsearch/index/AnalyzerSynonyms"},"next":{"title":"N-gram for Substring Matching in Elasticsearch","permalink":"/oio/docs/elasticsearch/index/AnalyzerNGram"}}');var l=r(4848),s=r(8453);const a={sidebar_position:9},i="Edge N-grams for Autocomplete",d={},c=[{value:"\ud83e\udde0 What Are Edge N-grams?",id:"-what-are-edge-n-grams",level:2},{value:"\ud83c\udfaf Simple Example",id:"-simple-example",level:2},{value:"\ud83d\udee0\ufe0f Minimal Working Config",id:"\ufe0f-minimal-working-config",level:2},{value:"\ud83d\udd27 1. Create Index with Edge N-gram Analyzer",id:"-1-create-index-with-edge-n-gram-analyzer",level:3},{value:"\ud83d\udce5 2. Index a Few Docs",id:"-2-index-a-few-docs",level:3},{value:"\ud83d\udd0d 3. Search by Partial Term",id:"-3-search-by-partial-term",level:3},{value:"\u2705 Result:",id:"-result",level:3},{value:"\ud83d\udca5 Summary",id:"-summary",level:2},{value:"\ud83d\ude80 Want to level it up?",id:"-want-to-level-it-up",level:2}];function o(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"edge-n-grams-for-autocomplete",children:"Edge N-grams for Autocomplete"})}),"\n",(0,l.jsx)(n.h2,{id:"-what-are-edge-n-grams",children:"\ud83e\udde0 What Are Edge N-grams?"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["They split a word into pieces \u2014 starting ",(0,l.jsx)(n.strong,{children:"from the beginning"})," \u2014 so Elasticsearch can match partial inputs like autocomplete."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-simple-example",children:"\ud83c\udfaf Simple Example"}),"\n",(0,l.jsxs)(n.p,{children:["You type: ",(0,l.jsx)(n.code,{children:"blu"}),(0,l.jsx)(n.br,{}),"\n","Indexed word: ",(0,l.jsx)(n.code,{children:"blueberry"}),(0,l.jsx)(n.br,{}),"\n","Edge N-gram turns ",(0,l.jsx)(n.code,{children:"blueberry"})," into:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"b\nbl\nblu\nblue\nblueb\nbluebe\n...\nblueberry\n"})}),"\n",(0,l.jsxs)(n.p,{children:["So when you type ",(0,l.jsx)(n.code,{children:"blu"}),", Elasticsearch ",(0,l.jsx)(n.strong,{children:"matches"})," that."]}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-minimal-working-config",children:"\ud83d\udee0\ufe0f Minimal Working Config"}),"\n",(0,l.jsx)(n.p,{children:"Let\u2019s do it step by step."}),"\n",(0,l.jsx)(n.h3,{id:"-1-create-index-with-edge-n-gram-analyzer",children:"\ud83d\udd27 1. Create Index with Edge N-gram Analyzer"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'PUT test_autocomplete\n{\n  "settings": {\n    "analysis": {\n      "filter": {\n        "edge_ngram_filter": {\n          "type": "edge_ngram",\n          "min_gram": 1,\n          "max_gram": 10\n        }\n      },\n      "analyzer": {\n        "autocomplete": {\n          "type": "custom",\n          "tokenizer": "standard",\n          "filter": [\n            "lowercase",\n            "edge_ngram_filter"\n          ]\n        },\n        "autocomplete_search": {\n          "type": "custom",\n          "tokenizer": "standard",\n          "filter": ["lowercase"]\n        }\n      }\n    }\n  },\n  "mappings": {\n    "properties": {\n      "name": {\n        "type": "text",\n        "analyzer": "autocomplete",\n        "search_analyzer": "autocomplete_search"\n      }\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"-2-index-a-few-docs",children:"\ud83d\udce5 2. Index a Few Docs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'POST test_autocomplete/_doc\n{ "name": "blueberry" }\n\nPOST test_autocomplete/_doc\n{ "name": "blackberry" }\n\nPOST test_autocomplete/_doc\n{ "name": "blender" }\n'})}),"\n",(0,l.jsx)(n.h3,{id:"-3-search-by-partial-term",children:"\ud83d\udd0d 3. Search by Partial Term"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'POST test_autocomplete/_search\n{\n  "query": {\n    "match": {\n      "name": "blu"\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"-result",children:"\u2705 Result:"}),"\n",(0,l.jsx)(n.p,{children:"It will return:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"blueberry"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"blender"})," (because it also has ",(0,l.jsx)(n.code,{children:"blu"})," prefix)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-summary",children:"\ud83d\udca5 Summary"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"You type"}),(0,l.jsx)(n.th,{children:"Matched"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"b"})}),(0,l.jsx)(n.td,{children:"all"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bl"})}),(0,l.jsx)(n.td,{children:"all"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"blu"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"blueberry"}),", ",(0,l.jsx)(n.code,{children:"blender"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"black"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"blackberry"})," only"]})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"-want-to-level-it-up",children:"\ud83d\ude80 Want to level it up?"}),"\n",(0,l.jsx)(n.p,{children:"Let me know if you want:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Substring matching (not just start \u2014 like ",(0,l.jsx)(n.code,{children:"erry"})," matching ",(0,l.jsx)(n.code,{children:"blueberry"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Completion suggester alternative"}),"\n",(0,l.jsx)(n.li,{children:"Typeahead with prefix filtering only"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var t=r(6540);const l={},s=t.createContext(l);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);