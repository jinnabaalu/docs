"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7887],{2616:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"ingress-nginx/InstallIngressController","title":"Install Ingress controller","description":"Compatible helm version","source":"@site/docs/ingress-nginx/InstallIngressController.md","sourceDirName":"ingress-nginx","slug":"/ingress-nginx/InstallIngressController","permalink":"/docs/ingress-nginx/InstallIngressController","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ingress-nginx/InstallIngressController.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Ingress Nginx","permalink":"/docs/category/ingress-nginx"},"next":{"title":"Cert Manager","permalink":"/docs/category/cert-manager"}}');var t=s(4848),i=s(8453);const o={sidebar_position:1},a="Install Ingress controller",l={},c=[{value:"Compatible helm version",id:"compatible-helm-version",level:2},{value:"Kubernetes Version:",id:"kubernetes-version",level:4},{value:"ingress-nginx version:",id:"ingress-nginx-version",level:4},{value:"Get the compatible helm version for the kubernetes environment:",id:"get-the-compatible-helm-version-for-the-kubernetes-environment",level:2},{value:"Option 1: Install helm chart with the version:",id:"option-1-install-helm-chart-with-the-version",level:2},{value:"Option 2(Recommended for production):  Create the template from the helm chart",id:"option-2recommended-for-production--create-the-template-from-the-helm-chart",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"install-ingress-controller",children:"Install Ingress controller"})}),"\n",(0,t.jsx)(n.h2,{id:"compatible-helm-version",children:"Compatible helm version"}),"\n",(0,t.jsx)(n.h4,{id:"kubernetes-version",children:"Kubernetes Version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kubectl version\n\n# OP:\n    Client Version: v1.30.3\n    Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3\n    Server Version: v1.30.3+k3s1\n"})}),"\n",(0,t.jsx)(n.h4,{id:"ingress-nginx-version",children:"ingress-nginx version:"}),"\n",(0,t.jsxs)(n.p,{children:["Check the version compatibility from the matrix in this repo : ",(0,t.jsx)(n.a,{href:"https://github.com/kubernetes/ingress-nginx",children:"https://github.com/kubernetes/ingress-nginx"})]}),"\n",(0,t.jsx)(n.p,{children:"We can use any of this range to deploy ingress-nginx, according to my k8s version above I choose to deploy the following versions, always go with latest version"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ingress-nginx : v1.10.1 - v1.11.2 \nNGINX verison : 1.25.3 - 1.25.5\nhelm chart version : \t4.10.0 - 4.11.2\n"})}),"\n",(0,t.jsx)(n.h2,{id:"get-the-compatible-helm-version-for-the-kubernetes-environment",children:"Get the compatible helm version for the kubernetes environment:"}),"\n",(0,t.jsx)(n.p,{children:"Search for the ingress nginx helm version check the one which satisfies with the above values"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm search repo ingress-nginx --versions\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx\nhelm repo update\n"})}),"\n",(0,t.jsx)(n.h2,{id:"option-1-install-helm-chart-with-the-version",children:"Option 1: Install helm chart with the version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm install ingress-nginx ingress-nginx/ingress-nginx \\\n  --namespace ingress-nginx --create-namespace \\\n  --version 4.11.2 \\\n  --set controller.image.tag=v1.11.2 \\\n  --set controller.nginx.image.tag=1.25.5\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\nNAME: ingress-nginx\nLAST DEPLOYED: Tue Sep 24 03:34:59 2024\nNAMESPACE: ingress-nginx\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nThe ingress-nginx controller has been installed.\nIt may take a few minutes for the load balancer IP to be available.\nYou can watch the status by running 'kubectl get service --namespace ingress-nginx ingress-nginx-controller --output wide --watch'\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: <base64 encoded cert>\n    tls.key: <base64 encoded key>\n  type: kubernetes.io/tls\n"})}),"\n",(0,t.jsx)(n.h2,{id:"option-2recommended-for-production--create-the-template-from-the-helm-chart",children:"Option 2(Recommended for production):  Create the template from the helm chart"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm template ingress-nginx ingress-nginx/ingress-nginx \\\n  --namespace ingress-nginx --create-namespace \\\n  --version 4.11.2 \\\n  > ./ingress-nginx-1.25.5.yml\n\nkubectl create namespace ingress-nginx \nkubectl apply -f ingress-nginx-1.25.5.yml -n ingress-nginx\n"})})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);